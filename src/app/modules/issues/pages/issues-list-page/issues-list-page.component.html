<h1>GitHub Issues</h1>
<hr class="my-5 text-blue-600 border" />

<section class="grid grid-cols-1 md:grid-cols-2 sm:grid-cols-3 gap-2">   

    <!-- buttons to control the state -->
    <div class="col-span-3 flex flex-col">
        <div class="flex gap-2">
            <button 
                [class.active]="currentState() === 'all'" 
                class="btn cursor-pointer"
                (click)="onChangeState('all')"
            >
            All
        </button>
            <button 
                [class.active]="currentState() === 'open'" 
                class="btn cursor-pointer"
                (click)="onChangeState('open')"
            >
            Open
        </button>
            <button 
                [class.active]="currentState() === 'closed'" 
                class="btn cursor-pointer"
                (click)="onChangeState('closed')"
            >
            Close
        </button>
        </div>
    </div>

    <!-- List -->
     <div class="mt-4 flex flex-col">
        <!-- TODO: List <app-issue-list></app-issue-list> -->
        @for (issue of issuesQuery.data(); track $index) {
            <issue-item [issue]="issue" />
        } @empty {
            @if (issuesQuery.isLoading()) {
                <p>Loading...</p>
            } @else {
                <p>No issues found</p>
            }
        }
        <!-- TODO: loader -->

        <!-- TODO: No Issues -->
     </div>

     <!-- LABELS -->
     <div class="mt-4 flex flex-col">
        <!-- TODO SPINNER -->
        @if (labelsQuery.isLoading()) {
            <p>Loading...</p>
        }@else {
            <issues-labels-selector [labels]="labelsQuery.data() ?? []" />
        }

        <!-- TODO: LABEL SELECTOR -->
     </div>

</section>

